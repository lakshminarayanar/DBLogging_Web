<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
 <h:head>
	    <title>View/Upload New XSLT</title>
</h:head>
<f:metadata>
    	<f:event type="preRenderView" listener="#{usersManagedBean.populateExistingXSLT}" />
</f:metadata>
  	<ui:composition template="/templates/adminlayout.xhtml">
 	<ui:define name="title">Current XSLT</ui:define>
 	<ui:define name="content">
			<div class="main-container">
				<div class="padding-md">
					<div class="row" style="height: 70px;">
						<div class="col-sm-6">
							<div class="page-title">
								Existing XSL Transformer
							</div>
							<div class="page-sub-header">
								 Welcome Back,  <h:outputText value="#{loginAuthenticationBean.username}" style="text-transform: capitalize;" />! , <i class="fa fa-map-marker text-danger"></i> Malaysia
							</div>
						</div>
						
						
						<div class="col-sm-6">
							<div class="page-title" style="float:left;width: 232px;">
								Upload New XSLT ? 
							</div>
							<h:form name="uploadForm">
									<p:commandButton value="Upload" onclick="newXSLTDialog.show()" styleClass="btn btn-success block" tabindex="-1" style="width: 150px;"></p:commandButton>
							</h:form>
						</div>
					</div>
					
					<div class="row" style="width: 1000px;">
						<div class="col-lg-20">
							<div class="smart-widget widget-dark-blue">
								<div class="smart-widget-header">
									Existing XSLT
									<span class="smart-widget-option">
										<span class="refresh-icon-animated">
											<i class="fa fa-circle-o-notch fa-spin"></i>
										</span>
			                            <a href="#" class="widget-toggle-hidden-option">
			                                <i class="fa fa-cog"></i>
			                            </a>
			                            <a href="#" class="widget-collapse-option" data-toggle="collapse">
			                                <i class="fa fa-chevron-up"></i>
			                            </a>
			                            
			                        </span>
								</div>
								<div class="smart-widget-inner">
									<div class="smart-widget-hidden-section">
										<ul class="widget-color-list clearfix">
											<li style="background-color:#20232b;" data-color="widget-dark"></li>
											<li style="background-color:#4c5f70;" data-color="widget-dark-blue"></li>
											<li style="background-color:#23b7e5;" data-color="widget-blue"></li>
											<li style="background-color:#2baab1;" data-color="widget-green"></li>
											<li style="background-color:#edbc6c;" data-color="widget-yellow"></li>
											<li style="background-color:#fbc852;" data-color="widget-orange"></li>
											<li style="background-color:#e36159;" data-color="widget-red"></li>
											<li style="background-color:#7266ba;" data-color="widget-purple"></li>
											<li style="background-color:#f5f5f5;" data-color="widget-light-grey"></li>
											<li style="background-color:#fff;" data-color="reset"></li>
										</ul>
									</div>
									<div class="smart-widget-body no-padding">
									<div style="height: 550px;">
									<h:form name="logForm" id="logForm">
									<p:messages autoUpdate="true" closable="true" />
									<table style="width: 99%;padding: 1px;border-spacing: 2px;border-collapse: separate;margin: 5px;">
										<tr>
											<td >
												<pre>	<h:outputText id="editor"  value="#{usersManagedBean.existingXSLT}"  /> </pre>
											</td>
										</tr>
										<tr><td ></td></tr>
										</table>
									</h:form>
									</div>
								</div>
							</div><!-- ./smart-widget-inner -->
							</div><!-- ./smart-widget -->
						</div><!-- ./col -->
					</div>
					
					</div><!-- ./padding-md -->
			</div><!-- /main-container -->

		<a href="#" class="scroll-to-top hidden-print"><i class="fa fa-chevron-up fa-lg"></i></a>
		
	  <p:dialog header="New XSLT Upload" widgetVar="newXSLTDialog" resizable="false" id="newXSLTDialogId" modal="true" height="115px">
	  		<h:form enctype="multipart/form-data" id="newXSLTForm">
      			<table style="width: 20%;padding: 5px;border-spacing: 10px;border-collapse: separate;margin: 5px;">
      			<tr>
      			<td><p:fileUpload value="#{usersManagedBean.newXSLTAttachment}" mode="simple"  allowTypes="/(\.|\/)(xsl)$/" required="true" requiredMessage="Please select new XSLT file"/>
				 	</td></tr>
      			<tr><td><p:commandButton value="Submit" ajax="false" actionListener="#{usersManagedBean.upload}" oncomplete="newXSLTDialog.hide()" update=":logForm" validateClient="true" styleClass="btn btn-success block" tabindex="-1" style="width: 150px;"/>
	      			</td></tr>
      			</table>
	      	</h:form>
      </p:dialog>
  	</ui:define>
  	</ui:composition>
</ui:composition>
